<ng-template [ngIf]="doctor" [ngIfElse]="loading">
    <div class="container">
        <div class="header w-100 mt-3">
            <div class="d-flex justify-content-center">
                <ng-template [ngIf]="doctor.foto" [ngIfElse]="notienefoto">
                    <div (click)="LoadImage()" class="avatar circular-foto d-flex justify-content-center align-items-center position-relative">
                        <div class="camara">
                             <div class="d-none" >
                                <input type="file" id="fileImg" (change)="saveFoto($event)">
                             </div>
                             <img src="{{doctor.foto}}" alt="Foto de Perfil" width="180" height="180" class="circular-foto border">
                        </div>
                    </div> 
                </ng-template>
                <ng-template #notienefoto>
                    <div (click)="LoadImage()" class="avatar circular-foto d-flex justify-content-center align-items-center position-relative">
                        <div class="camara">
                             <div class="d-none" >
                                <input type="file" id="fileImg" (change)="saveFoto($event)">
                             </div>
                            <i class="fas fa-camera"></i>
                        </div>
                        <div class="add-foto position-absolute">
                            <i class="fas fa-plus"></i>
                        </div>
                    </div>  
                </ng-template>
            
            </div>
        </div>
        <div class="main">
            <div class="my-3 w-75 text-center mx-auto">
                <h4>DATOS DE LA CUENTA</h4>
    
                <div class="mt-3">
                    <form [formGroup]="myForm" (ngSubmit)="UpdateDoctor(myForm.value)" class="formulario text-left">
                        <label for="">Nombre:</label>
                        <div class="form-group">
                            <input formControlName="nombre" type="text" placeholder="Nombre del usuario" class="form-control">
                            <div *ngIf="nombreControl.invalid"> 
                                <span class="text-danger">*El nombre es requerido*</span>
                            </div>
                        </div>
                        <label>Apellido:</label>
                        <div class="form-group">
                            <input formControlName="apellido" type="text" placeholder="Apellido del usuario" class="form-control">
                            <div *ngIf="apellidoControl.invalid"> 
                                <span class="text-danger">*La apellido es requerida*</span>
                            </div>
                        </div>
                        <label>Correo:</label>
                        <div class="form-group">
                            <input formControlName="correo" type="email" placeholder="Correo electronico" class="form-control">
                            <div *ngIf="correoControl.invalid"> 
                                <span class="text-danger">*Correo es invalido*</span>
                            </div>
                        </div>
                        <div class="form-group mt-4 text-center">
                            <button type="submit" class="btn btn-primario w-75 mb-1">Guardar cambios</button> <br>
                            <a [routerLink]="['/cuenta/password']">Cambiar contrase√±a</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #loading>
    <div class="container">
        <div class="d-flex justify-content-center fixed-size">
            <div class="align-self-center text-center">
                <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status"></div>
                <div>
                    <span>Cargando...</span>
                </div>
           </div>
        </div>
</div>
</ng-template>

